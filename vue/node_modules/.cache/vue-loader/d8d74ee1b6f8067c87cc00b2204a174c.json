{"remainingRequest":"D:\\Java_project\\pure-design\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Java_project\\pure-design\\vue\\src\\views\\User.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Java_project\\pure-design\\vue\\src\\views\\User.vue","mtime":1685969285963},{"path":"D:\\Java_project\\pure-design\\vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685880566717},{"path":"D:\\Java_project\\pure-design\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1685880569655},{"path":"D:\\Java_project\\pure-design\\vue\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685880566716},{"path":"D:\\Java_project\\pure-design\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1685881029547}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBzZXJ2ZXJJcCB9IGZyb20gIi4uLy4uL3B1YmxpYy9jb25maWciOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogIlVzZXIiLA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBzZXJ2ZXJJcDogc2VydmVySXAsDQogICAgICAgICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgICAgICAgdG90YWw6IDAsDQogICAgICAgICAgICBwYWdlTnVtOiAxLA0KICAgICAgICAgICAgcGFnZVNpemU6IDEwLA0KICAgICAgICAgICAgdXNlcm5hbWU6ICIiLA0KICAgICAgICAgICAgZW1haWw6ICIiLA0KICAgICAgICAgICAgYWRkcmVzczogIiIsDQogICAgICAgICAgICBmb3JtOiB7fSwNCiAgICAgICAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwNCiAgICAgICAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXSwNCiAgICAgICAgICAgIHJvbGVzOiBbXSwNCiAgICAgICAgICAgIGNvdXJzZXM6IFtdLA0KICAgICAgICAgICAgdmlzOiBmYWxzZSwNCiAgICAgICAgICAgIHN0dUNvdXJzZXM6IFtdLA0KICAgICAgICAgICAgc3R1VmlzOiBmYWxzZQ0KICAgICAgICB9DQogICAgfSwNCiAgICBjcmVhdGVkKCkgew0KICAgICAgICB0aGlzLmxvYWQoKQ0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICBsb29rQ291cnNlKGNvdXJzZXMpIHsNCiAgICAgICAgICAgIHRoaXMuY291cnNlcyA9IGNvdXJzZXMNCiAgICAgICAgICAgIHRoaXMudmlzID0gdHJ1ZQ0KICAgICAgICB9LA0KICAgICAgICBsb29rU3R1Q291cnNlKHN0dUNvdXJzZXMpIHsNCiAgICAgICAgICAgIHRoaXMuc3R1Q291cnNlcyA9IHN0dUNvdXJzZXMNCiAgICAgICAgICAgIHRoaXMuc3R1VmlzID0gdHJ1ZQ0KICAgICAgICB9LA0KICAgICAgICBsb2FkKCkgew0KICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LmdldCgiL3VzZXIvcGFnZSIsIHsNCiAgICAgICAgICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICAgICAgICAgICAgcGFnZU51bTogdGhpcy5wYWdlTnVtLA0KICAgICAgICAgICAgICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSwNCiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsDQogICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLA0KICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiB0aGlzLmFkZHJlc3MsDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gew0KDQogICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5yZWNvcmRzDQogICAgICAgICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLnRvdGFsDQoNCiAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICAgIHRoaXMucmVxdWVzdC5nZXQoIi9yb2xlIikudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMucm9sZXMgPSByZXMuZGF0YQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgc2F2ZSgpIHsNCiAgICAgICAgICAgIHRoaXMucmVxdWVzdC5wb3N0KCIvdXNlciIsIHRoaXMuZm9ybSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzIwMCcpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLkv53lrZjmiJDlip8iKQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkKCkNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLkv53lrZjlpLHotKUiKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZUFkZCgpIHsNCiAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlDQogICAgICAgICAgICB0aGlzLmZvcm0gPSB7fQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVFZGl0KHJvdykgew0KICAgICAgICAgICAgdGhpcy5mb3JtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyb3cpKQ0KICAgICAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWUNCiAgICAgICAgfSwNCiAgICAgICAgZGVsKGlkKSB7DQogICAgICAgICAgICB0aGlzLnJlcXVlc3QuZGVsZXRlKCIvdXNlci8iICsgaWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcyMDAnKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIikNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkKCkNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLliKDpmaTlpLHotKUiKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbCkNCiAgICAgICAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSB2YWwNCiAgICAgICAgfSwNCiAgICAgICAgZGVsQmF0Y2goKSB7DQogICAgICAgICAgICBsZXQgaWRzID0gdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5tYXAodiA9PiB2LmlkKSAgLy8gW3t9LCB7fSwge31dID0+IFsxLDIsM10NCiAgICAgICAgICAgIHRoaXMucmVxdWVzdC5wb3N0KCIvdXNlci9kZWwvYmF0Y2giLCBpZHMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcyMDAnKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5om56YeP5Yig6Zmk5oiQ5YqfIikNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkKCkNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmibnph4/liKDpmaTlpLHotKUiKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIHJlc2V0KCkgew0KICAgICAgICAgICAgdGhpcy51c2VybmFtZSA9ICIiDQogICAgICAgICAgICB0aGlzLmVtYWlsID0gIiINCiAgICAgICAgICAgIHRoaXMuYWRkcmVzcyA9ICIiDQogICAgICAgICAgICB0aGlzLmxvYWQoKQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVTaXplQ2hhbmdlKHBhZ2VTaXplKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhwYWdlU2l6ZSkNCiAgICAgICAgICAgIHRoaXMucGFnZVNpemUgPSBwYWdlU2l6ZQ0KICAgICAgICAgICAgdGhpcy5sb2FkKCkNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlQ3VycmVudENoYW5nZShwYWdlTnVtKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhwYWdlTnVtKQ0KICAgICAgICAgICAgdGhpcy5wYWdlTnVtID0gcGFnZU51bQ0KICAgICAgICAgICAgdGhpcy5sb2FkKCkNCiAgICAgICAgfSwNCiAgICAgICAgZXhwKCkgew0KICAgICAgICAgICAgd2luZG93Lm9wZW4oYGh0dHA6Ly8ke3NlcnZlcklwfTo5MDkwL3VzZXIvZXhwb3J0YCkNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlRXhjZWxJbXBvcnRTdWNjZXNzKCkgew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLlr7zlhaXmiJDlip8iKQ0KICAgICAgICAgICAgdGhpcy5sb2FkKCkNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"User.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div style=\"margin: 10px 0\">\r\n            <el-input style=\"width: 200px\" placeholder=\"请输入名称\" suffix-icon=\"el-icon-search\" v-model=\"username\"></el-input>\r\n            <el-input style=\"width: 200px\" placeholder=\"请输入邮箱\" suffix-icon=\"el-icon-message\" class=\"ml-5\"\r\n                v-model=\"email\"></el-input>\r\n            <el-input style=\"width: 200px\" placeholder=\"请输入地址\" suffix-icon=\"el-icon-position\" class=\"ml-5\"\r\n                v-model=\"address\"></el-input>\r\n            <el-button class=\"ml-5\" type=\"primary\" @click=\"load\">搜索</el-button>\r\n            <el-button type=\"warning\" @click=\"reset\">重置</el-button>\r\n        </div>\r\n        <div style=\"margin: 10px 0\">\r\n            <el-button type=\"primary\" @click=\"handleAdd\">新增 <i class=\"el-icon-circle-plus-outline\"></i></el-button>\r\n            <el-popconfirm class=\"ml-5\" confirm-button-text='确定' cancel-button-text='我再想想' icon=\"el-icon-info\"\r\n                icon-color=\"red\" title=\"您确定批量删除这些数据吗？\" @confirm=\"delBatch\">\r\n                <el-button type=\"danger\" slot=\"reference\">批量删除 <i class=\"el-icon-remove-outline\"></i></el-button>\r\n            </el-popconfirm>\r\n            <el-upload :action=\"'http://' + serverIp + ':9090/user/import'\" :show-file-list=\"false\" accept=\"xlsx\"\r\n                :on-success=\"handleExcelImportSuccess\" style=\"display: inline-block\">\r\n                <!--        <el-button type=\"primary\" class=\"ml-5\">导入 <i class=\"el-icon-bottom\"></i></el-button>-->\r\n            </el-upload>\r\n            <!--      <el-button type=\"primary\" @click=\"exp\" class=\"ml-5\">导出 <i class=\"el-icon-top\"></i></el-button>-->\r\n        </div>\r\n        <!-- card -->\r\n        <el-card>\r\n            <el-table :data=\"tableData\" border stripe :header-cell-class-name=\"'headerBg'\"\r\n                @selection-change=\"handleSelectionChange\">\r\n                <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n                <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\r\n                <el-table-column prop=\"username\" label=\"用户名\" width=\"140\"></el-table-column>\r\n                <el-table-column prop=\"role\" label=\"角色\" width=\"80\">\r\n                    <template slot-scope=\"scope\">\r\n                        <!-- 显示角色选择 -->\r\n                        <el-tag type=\"primary\" v-if=\"scope.row.role === 'ROLE_ADMIN'\">管理员</el-tag>\r\n                        <el-tag type=\"warning\" v-if=\"scope.row.role === 'ROLE_TEACHER'\">老师</el-tag>\r\n                        <el-tag type=\"success\" v-if=\"scope.row.role === 'ROLE_STUDENT'\">学生</el-tag>\r\n                        <el-tag type=\"warning\" v-if=\"scope.row.role === 'ROLE_BOSS'\">老板</el-tag>\r\n                        <el-tag type=\"success\" v-if=\"scope.row.role === 'ROLE_USER'\">用户</el-tag>\r\n                        <el-tag type=\"success\" v-if=\"scope.row.role === 'ROLE_DATABASE'\">数据库</el-tag>\r\n                        <el-tag type=\"success\" v-if=\"scope.row.role === 'ROLE_DOCTOR'\">医生</el-tag>\r\n                        <el-tag type=\"success\" v-if=\"scope.row.role === 'ROLE_STAFF'\">职工</el-tag>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"nickname\" label=\"昵称\" width=\"120\"></el-table-column>\r\n                <el-table-column prop=\"email\" label=\"邮箱\"></el-table-column>\r\n                <el-table-column prop=\"phone\" label=\"电话\"></el-table-column>\r\n                <el-table-column prop=\"address\" label=\"地址\"></el-table-column>\r\n                <el-table-column label=\"操作\" width=\"200\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <!-- <el-button type=\"primary\" @click=\"lookCourse(scope.row.courses)\" v-if=\"scope.row.role === 'ROLE_TEACHER'\">查看教授 <i class=\"el-icon-document\"></i></el-button>\r\n          <el-button type=\"warning\" @click=\"lookStuCourse(scope.row.stuCourses)\" v-if=\"scope.row.role === 'ROLE_STUDENT'\">查看已选 <i class=\"el-icon-document\"></i></el-button> -->\r\n                        <el-button type=\"success\" @click=\"handleEdit(scope.row)\">编辑 <i class=\"el-icon-edit\"></i></el-button>\r\n                        <el-popconfirm class=\"ml-5\" confirm-button-text='确定' cancel-button-text='我再想想' icon=\"el-icon-info\"\r\n                            icon-color=\"red\" title=\"您确定删除吗？\" @confirm=\"del(scope.row.id)\">\r\n                            <el-button type=\"danger\" slot=\"reference\">删除 <i class=\"el-icon-remove-outline\"></i></el-button>\r\n                        </el-popconfirm>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <div style=\"padding: 10px 0;display: flex;justify-content: center;\">\r\n                <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"pageNum\"\r\n                    :page-sizes=\"[2, 5, 10, 20]\" :page-size=\"pageSize\" layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"total\">\r\n                </el-pagination>\r\n            </div>\r\n            <el-dialog title=\"用户信息\" :visible.sync=\"dialogFormVisible\" width=\"30%\">\r\n                <el-form label-width=\"80px\" size=\"small\">\r\n                    <el-form-item label=\"用户名\">\r\n                        <el-input v-model=\"form.username\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"角色\">\r\n                        <el-select clearable v-model=\"form.role\" placeholder=\"请选择角色\" style=\"width: 100%\">\r\n                            <el-option v-for=\"item in roles\" :key=\"item.name\" :label=\"item.name\"\r\n                                :value=\"item.flag\"></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"昵称\">\r\n                        <el-input v-model=\"form.nickname\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"邮箱\">\r\n                        <el-input v-model=\"form.email\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"电话\">\r\n                        <el-input v-model=\"form.phone\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"地址\">\r\n                        <el-input v-model=\"form.address\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                </el-form>\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n                </div>\r\n            </el-dialog>\r\n            <el-dialog title=\"课程信息\" :visible.sync=\"vis\" width=\"30%\">\r\n                <el-table :data=\"courses\" border stripe>\r\n                    <el-table-column prop=\"name\" label=\"课程名称\"></el-table-column>\r\n                    <el-table-column prop=\"score\" label=\"学分\"></el-table-column>\r\n                </el-table>\r\n            </el-dialog>\r\n            <el-dialog title=\"课程信息\" :visible.sync=\"stuVis\" width=\"30%\">\r\n                <el-table :data=\"stuCourses\" border stripe>\r\n                    <el-table-column prop=\"name\" label=\"课程名称\"></el-table-column>\r\n                    <el-table-column prop=\"score\" label=\"学分\"></el-table-column>\r\n                </el-table>\r\n            </el-dialog>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { serverIp } from \"../../public/config\";\r\n\r\nexport default {\r\n    name: \"User\",\r\n    data() {\r\n        return {\r\n            serverIp: serverIp,\r\n            tableData: [],\r\n            total: 0,\r\n            pageNum: 1,\r\n            pageSize: 10,\r\n            username: \"\",\r\n            email: \"\",\r\n            address: \"\",\r\n            form: {},\r\n            dialogFormVisible: false,\r\n            multipleSelection: [],\r\n            roles: [],\r\n            courses: [],\r\n            vis: false,\r\n            stuCourses: [],\r\n            stuVis: false\r\n        }\r\n    },\r\n    created() {\r\n        this.load()\r\n    },\r\n    methods: {\r\n        lookCourse(courses) {\r\n            this.courses = courses\r\n            this.vis = true\r\n        },\r\n        lookStuCourse(stuCourses) {\r\n            this.stuCourses = stuCourses\r\n            this.stuVis = true\r\n        },\r\n        load() {\r\n            this.request.get(\"/user/page\", {\r\n                params: {\r\n                    pageNum: this.pageNum,\r\n                    pageSize: this.pageSize,\r\n                    username: this.username,\r\n                    email: this.email,\r\n                    address: this.address,\r\n                }\r\n            }).then(res => {\r\n\r\n                this.tableData = res.data.records\r\n                this.total = res.data.total\r\n\r\n            })\r\n\r\n            this.request.get(\"/role\").then(res => {\r\n                this.roles = res.data\r\n            })\r\n        },\r\n        save() {\r\n            this.request.post(\"/user\", this.form).then(res => {\r\n                if (res.code === '200') {\r\n                    this.$message.success(\"保存成功\")\r\n                    this.dialogFormVisible = false\r\n                    this.load()\r\n                } else {\r\n                    this.$message.error(\"保存失败\")\r\n                }\r\n            })\r\n        },\r\n        handleAdd() {\r\n            this.dialogFormVisible = true\r\n            this.form = {}\r\n        },\r\n        handleEdit(row) {\r\n            this.form = JSON.parse(JSON.stringify(row))\r\n            this.dialogFormVisible = true\r\n        },\r\n        del(id) {\r\n            this.request.delete(\"/user/\" + id).then(res => {\r\n                if (res.code === '200') {\r\n                    this.$message.success(\"删除成功\")\r\n                    this.load()\r\n                } else {\r\n                    this.$message.error(\"删除失败\")\r\n                }\r\n            })\r\n        },\r\n        handleSelectionChange(val) {\r\n            console.log(val)\r\n            this.multipleSelection = val\r\n        },\r\n        delBatch() {\r\n            let ids = this.multipleSelection.map(v => v.id)  // [{}, {}, {}] => [1,2,3]\r\n            this.request.post(\"/user/del/batch\", ids).then(res => {\r\n                if (res.code === '200') {\r\n                    this.$message.success(\"批量删除成功\")\r\n                    this.load()\r\n                } else {\r\n                    this.$message.error(\"批量删除失败\")\r\n                }\r\n            })\r\n        },\r\n        reset() {\r\n            this.username = \"\"\r\n            this.email = \"\"\r\n            this.address = \"\"\r\n            this.load()\r\n        },\r\n        handleSizeChange(pageSize) {\r\n            console.log(pageSize)\r\n            this.pageSize = pageSize\r\n            this.load()\r\n        },\r\n        handleCurrentChange(pageNum) {\r\n            console.log(pageNum)\r\n            this.pageNum = pageNum\r\n            this.load()\r\n        },\r\n        exp() {\r\n            window.open(`http://${serverIp}:9090/user/export`)\r\n        },\r\n        handleExcelImportSuccess() {\r\n            this.$message.success(\"导入成功\")\r\n            this.load()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n.headerBg {\r\n    background: #eee !important;\r\n}\r\n</style>\r\n"]}]}