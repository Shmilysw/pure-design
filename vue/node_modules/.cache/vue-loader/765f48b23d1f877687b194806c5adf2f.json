{"remainingRequest":"D:\\Java_project\\pure-design\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Java_project\\pure-design\\vue\\src\\views\\Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Java_project\\pure-design\\vue\\src\\views\\Menu.vue","mtime":1685965577704},{"path":"D:\\Java_project\\pure-design\\vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685880566717},{"path":"D:\\Java_project\\pure-design\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1685880569655},{"path":"D:\\Java_project\\pure-design\\vue\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685880566716},{"path":"D:\\Java_project\\pure-design\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1685881029547}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBzZXJ2ZXJJcCB9IGZyb20gIi4uLy4uL3B1YmxpYy9jb25maWciOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogIk1lbnUiLA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgICAgICAgdG90YWw6IDAsDQogICAgICAgICAgICBwYWdlTnVtOiAxLA0KICAgICAgICAgICAgcGFnZVNpemU6IDEwLA0KICAgICAgICAgICAgbmFtZTogIiIsDQogICAgICAgICAgICBmb3JtOiB7fSwNCiAgICAgICAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwNCiAgICAgICAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXSwNCiAgICAgICAgICAgIG9wdGlvbnM6IFtdDQogICAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIHRoaXMubG9hZCgpDQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGxvYWQoKSB7DQogICAgICAgICAgICB0aGlzLnJlcXVlc3QuZ2V0KCIvbWVudSIsIHsNCiAgICAgICAgICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhDQogICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICAvLyDor7fmsYLlm77moIfnmoTmlbDmja4NCiAgICAgICAgICAgIHRoaXMucmVxdWVzdC5nZXQoIi9tZW51L2ljb25zIikudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHJlcy5kYXRhDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBzYXZlKCkgew0KICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LnBvc3QoIi9tZW51IiwgdGhpcy5mb3JtKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMjAwJykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuS/neWtmOaIkOWKnyIpDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWQoKQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuS/neWtmOWksei0pSIpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlQWRkKHBpZCkgew0KICAgICAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWUNCiAgICAgICAgICAgIHRoaXMuZm9ybSA9IHt9DQogICAgICAgICAgICBpZiAocGlkKSB7DQogICAgICAgICAgICAgICAgdGhpcy5mb3JtLnBpZCA9IHBpZA0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVFZGl0KHJvdykgew0KICAgICAgICAgICAgdGhpcy5mb3JtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyb3cpKQ0KICAgICAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWUNCiAgICAgICAgfSwNCiAgICAgICAgZGVsKGlkKSB7DQogICAgICAgICAgICB0aGlzLnJlcXVlc3QuZGVsZXRlKCIvbWVudS8iICsgaWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcyMDAnKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIikNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkKCkNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLliKDpmaTlpLHotKUiKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbCkNCiAgICAgICAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSB2YWwNCiAgICAgICAgfSwNCiAgICAgICAgZGVsQmF0Y2goKSB7DQogICAgICAgICAgICBsZXQgaWRzID0gdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5tYXAodiA9PiB2LmlkKSAgLy8gW3t9LCB7fSwge31dID0+IFsxLDIsM10NCiAgICAgICAgICAgIHRoaXMucmVxdWVzdC5wb3N0KCIvbWVudS9kZWwvYmF0Y2giLCBpZHMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcyMDAnKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5om56YeP5Yig6Zmk5oiQ5YqfIikNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkKCkNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmibnph4/liKDpmaTlpLHotKUiKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIHJlc2V0KCkgew0KICAgICAgICAgICAgdGhpcy5uYW1lID0gIiINCiAgICAgICAgICAgIHRoaXMubG9hZCgpDQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZVNpemVDaGFuZ2UocGFnZVNpemUpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhZ2VTaXplKQ0KICAgICAgICAgICAgdGhpcy5wYWdlU2l6ZSA9IHBhZ2VTaXplDQogICAgICAgICAgICB0aGlzLmxvYWQoKQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHBhZ2VOdW0pIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhZ2VOdW0pDQogICAgICAgICAgICB0aGlzLnBhZ2VOdW0gPSBwYWdlTnVtDQogICAgICAgICAgICB0aGlzLmxvYWQoKQ0KICAgICAgICB9LA0KICAgICAgICBleHAoKSB7DQogICAgICAgICAgICB3aW5kb3cub3BlbihgaHR0cDovLyR7c2VydmVySXB9OjkwOTAvcm9sZS9leHBvcnRgKQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVFeGNlbEltcG9ydFN1Y2Nlc3MoKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWvvOWFpeaIkOWKnyIpDQogICAgICAgICAgICB0aGlzLmxvYWQoKQ0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["Menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Menu.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div style=\"margin: 10px 0\">\r\n            <el-input style=\"width: 200px\" placeholder=\"请输入名称\" suffix-icon=\"el-icon-search\" v-model=\"name\"></el-input>\r\n            <!--      <el-input style=\"width: 200px\" placeholder=\"请输入邮箱\" suffix-icon=\"el-icon-message\" class=\"ml-5\" v-model=\"email\"></el-input>-->\r\n            <!--      <el-input style=\"width: 200px\" placeholder=\"请输入地址\" suffix-icon=\"el-icon-position\" class=\"ml-5\" v-model=\"address\"></el-input>-->\r\n            <el-button class=\"ml-5\" type=\"primary\" @click=\"load\">搜索</el-button>\r\n            <el-button type=\"warning\" @click=\"reset\">重置</el-button>\r\n        </div>\r\n\r\n        <div style=\"margin: 10px 0\">\r\n            <el-button type=\"primary\" @click=\"handleAdd(null)\">新增 <i class=\"el-icon-circle-plus-outline\"></i></el-button>\r\n            <el-popconfirm class=\"ml-5\" confirm-button-text='确定' cancel-button-text='我再想想' icon=\"el-icon-info\"\r\n                icon-color=\"red\" title=\"您确定批量删除这些数据吗？\" @confirm=\"delBatch\">\r\n                <el-button type=\"danger\" slot=\"reference\">批量删除 <i class=\"el-icon-remove-outline\"></i></el-button>\r\n            </el-popconfirm>\r\n            <!--      <el-upload action=\"http://localhost:9090/user/import\" :show-file-list=\"false\" accept=\"xlsx\" :on-success=\"handleExcelImportSuccess\" style=\"display: inline-block\">-->\r\n            <!--        <el-button type=\"primary\" class=\"ml-5\">导入 <i class=\"el-icon-bottom\"></i></el-button>-->\r\n            <!--      </el-upload>-->\r\n            <!--      <el-button type=\"primary\" @click=\"exp\" class=\"ml-5\">导出 <i class=\"el-icon-top\"></i></el-button>-->\r\n        </div>\r\n        <el-card>\r\n            <el-table :data=\"tableData\" border stripe :header-cell-class-name=\"'headerBg'\" row-key=\"id\" default-expand-all\r\n                @selection-change=\"handleSelectionChange\">\r\n                <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n                <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\r\n                <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\r\n                <el-table-column prop=\"path\" label=\"路径\"></el-table-column>\r\n                <el-table-column prop=\"pagePath\" label=\"页面路径\"></el-table-column>\r\n                <el-table-column label=\"图标\" class-name=\"fontSize18\" align=\"center\" label-class-name=\"fontSize12\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span :class=\"scope.row.icon\" />\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"description\" label=\"描述\"></el-table-column>\r\n                <el-table-column prop=\"sortNum\" label=\"顺序\"></el-table-column>\r\n                <el-table-column label=\"操作\" width=\"300\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button type=\"primary\" @click=\"handleAdd(scope.row.id)\"\r\n                            v-if=\"!scope.row.pid && !scope.row.path\">新增子菜单 <i class=\"el-icon-plus\"></i></el-button>\r\n                        <el-button type=\"success\" @click=\"handleEdit(scope.row)\">编辑 <i class=\"el-icon-edit\"></i></el-button>\r\n                        <el-popconfirm class=\"ml-5\" confirm-button-text='确定' cancel-button-text='我再想想' icon=\"el-icon-info\"\r\n                            icon-color=\"red\" title=\"您确定删除吗？\" @confirm=\"del(scope.row.id)\">\r\n                            <el-button type=\"danger\" slot=\"reference\">删除 <i class=\"el-icon-remove-outline\"></i></el-button>\r\n                        </el-popconfirm>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n\r\n            <el-dialog title=\"菜单信息\" :visible.sync=\"dialogFormVisible\" width=\"30%\">\r\n                <el-form label-width=\"80px\" size=\"small\">\r\n                    <el-form-item label=\"名称\">\r\n                        <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"路径\">\r\n                        <el-input v-model=\"form.path\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"页面路径\">\r\n                        <el-input v-model=\"form.pagePath\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"图标\">\r\n                        <el-select clearable v-model=\"form.icon\" placeholder=\"请选择\" style=\"width: 100%\">\r\n                            <el-option v-for=\"item in options\" :key=\"item.name\" :label=\"item.name\" :value=\"item.value\">\r\n                                <i :class=\"item.value\" /> {{ item.name }}\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"顺序\">\r\n                        <el-input v-model=\"form.sortNum\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"描述\">\r\n                        <el-input v-model=\"form.description\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                </el-form>\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n                </div>\r\n            </el-dialog>\r\n        </el-card>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { serverIp } from \"../../public/config\";\r\n\r\nexport default {\r\n    name: \"Menu\",\r\n    data() {\r\n        return {\r\n            tableData: [],\r\n            total: 0,\r\n            pageNum: 1,\r\n            pageSize: 10,\r\n            name: \"\",\r\n            form: {},\r\n            dialogFormVisible: false,\r\n            multipleSelection: [],\r\n            options: []\r\n        }\r\n    },\r\n    created() {\r\n        this.load()\r\n    },\r\n    methods: {\r\n        load() {\r\n            this.request.get(\"/menu\", {\r\n                params: {\r\n                    name: this.name,\r\n                }\r\n            }).then(res => {\r\n                this.tableData = res.data\r\n            })\r\n\r\n            // 请求图标的数据\r\n            this.request.get(\"/menu/icons\").then(res => {\r\n                this.options = res.data\r\n            })\r\n        },\r\n        save() {\r\n            this.request.post(\"/menu\", this.form).then(res => {\r\n                if (res.code === '200') {\r\n                    this.$message.success(\"保存成功\")\r\n                    this.dialogFormVisible = false\r\n                    this.load()\r\n                } else {\r\n                    this.$message.error(\"保存失败\")\r\n                }\r\n            })\r\n        },\r\n        handleAdd(pid) {\r\n            this.dialogFormVisible = true\r\n            this.form = {}\r\n            if (pid) {\r\n                this.form.pid = pid\r\n            }\r\n        },\r\n        handleEdit(row) {\r\n            this.form = JSON.parse(JSON.stringify(row))\r\n            this.dialogFormVisible = true\r\n        },\r\n        del(id) {\r\n            this.request.delete(\"/menu/\" + id).then(res => {\r\n                if (res.code === '200') {\r\n                    this.$message.success(\"删除成功\")\r\n                    this.load()\r\n                } else {\r\n                    this.$message.error(\"删除失败\")\r\n                }\r\n            })\r\n        },\r\n        handleSelectionChange(val) {\r\n            console.log(val)\r\n            this.multipleSelection = val\r\n        },\r\n        delBatch() {\r\n            let ids = this.multipleSelection.map(v => v.id)  // [{}, {}, {}] => [1,2,3]\r\n            this.request.post(\"/menu/del/batch\", ids).then(res => {\r\n                if (res.code === '200') {\r\n                    this.$message.success(\"批量删除成功\")\r\n                    this.load()\r\n                } else {\r\n                    this.$message.error(\"批量删除失败\")\r\n                }\r\n            })\r\n        },\r\n        reset() {\r\n            this.name = \"\"\r\n            this.load()\r\n        },\r\n        handleSizeChange(pageSize) {\r\n            console.log(pageSize)\r\n            this.pageSize = pageSize\r\n            this.load()\r\n        },\r\n        handleCurrentChange(pageNum) {\r\n            console.log(pageNum)\r\n            this.pageNum = pageNum\r\n            this.load()\r\n        },\r\n        exp() {\r\n            window.open(`http://${serverIp}:9090/role/export`)\r\n        },\r\n        handleExcelImportSuccess() {\r\n            this.$message.success(\"导入成功\")\r\n            this.load()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n.headerBg {\r\n    background: #eee !important;\r\n}\r\n\r\n.fontSize18 {\r\n    font-size: 18px;\r\n}\r\n\r\n.fontSize12 {\r\n    font-size: 12px;\r\n}\r\n</style>\r\n"]}]}